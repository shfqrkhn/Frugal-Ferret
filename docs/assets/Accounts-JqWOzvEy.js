import{u as o,d as c,j as e,L as l,S as i,a as d,B as m}from"./index-Xj3-ztsO.js";import{P as x}from"./PageHeader-C4PCHSjN.js";import{E as u}from"./EmptyState-DTePYbNB.js";const g=["TFSA","RRSP","FHSA","investment_non_reg"],p=({account:s})=>{const r=o(async()=>g.includes(s.type)?(await c.holdings.where({accountId:s.id}).toArray()).reduce((n,a)=>n+a.bookValue,0):(await c.transactions.where({accountId:s.id}).toArray()).reduce((n,a)=>n+a.amount,0),[s.id,s.type],void 0);return e.jsx("li",{children:e.jsx(l,{to:`/accounts/${s.id}`,className:"block hover:bg-muted/50 rounded-lg transition-colors",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between p-4 border rounded-lg gap-2",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-2xl mr-4",children:"ðŸ‘›"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-lg",children:s.name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.type.replace(/_/g," ").replace(/\b\w/g,t=>t.toUpperCase())})]})]}),e.jsx("div",{className:"text-right w-full sm:w-auto",children:r!==void 0?e.jsx("p",{className:"font-mono text-xl font-semibold",children:r.toLocaleString("en-US",{style:"currency",currency:s.currency})}):e.jsx(i,{className:"h-7 w-32 ml-auto"})})]})})})},y=()=>{const{openAddAccountDialog:s}=d(),r=o(()=>c.accounts.toArray());return e.jsxs(e.Fragment,{children:[e.jsx(x,{title:"Accounts ðŸ’³",children:e.jsxs(m,{onClick:s,children:[e.jsx("span",{className:"mr-2",children:"âž•"}),"Add Account"]})}),r?r.length>0?e.jsx("ul",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-3",children:r.map(t=>e.jsx(p,{account:t},t.id))}):e.jsx(u,{icon:"ðŸ’³",title:"No Accounts Yet",description:"Add your first financial account to get started.",action:{text:"Add Account",onClick:s}}):e.jsx("div",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-3",children:[...Array(3)].map((t,n)=>e.jsx(i,{className:"h-24 w-full"},n))})]})};export{y as default};
